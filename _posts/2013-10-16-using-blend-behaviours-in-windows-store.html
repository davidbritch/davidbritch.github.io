---
title: Using Blend behaviours in a Windows Store App
date: '2013-10-16T13:16:00.001+01:00'
author: David Britch
tags:
- Blend
- behaviour
- MVVM
- C#
- Windows 8
- WinRT
- Windows Store app
modified_time: '2013-10-16T13:18:20.508+01:00'
thumbnail: http://lh5.ggpht.com/-6089j3GPUXY/Ul6Dr9nbIBI/AAAAAAAACi4/x0UgKGEW62s/s72-c/image_thumb%25255B5%25255D.png?imgmax=800
blogger_id: tag:blogger.com,1999:blog-8265682915956744370.post-6751691039612963280
blogger_orig_url: https://dbritch.blogspot.com/2013/10/using-blend-behaviours-in-windows-store.html
---

<p><a href="http://www.davidbritch.com/2013/06/suspendresumeactivation-using-prism-for.html">Previously</a> I’ve demonstrated a sample PhotoViewer app that displays photo thumbnails on the <strong>MainPage</strong>, and that displays a selected photo on the <strong>PhotoPage</strong>. The app can also convert a colour photo to greyscale on the <strong>PhotoPage</strong>. In addition, the app serializes frame and page state during suspension, and deserializes it when the app reactivates following termination.</p> <p>The app uses an attached behaviour on the <a href="http://msdn.microsoft.com/en-gb/library/windows/apps/windows.ui.xaml.controls.gridview">GridView</a> on the <strong>MainPage</strong> to execute a view model action in response to the <a href="http://msdn.microsoft.com/en-gb/library/windows/apps/windows.ui.xaml.controls.listviewbase.itemclick">ItemClick</a> event firing on the <a href="http://msdn.microsoft.com/en-gb/library/windows/apps/windows.ui.xaml.controls.gridview">GridView</a>. This approach eliminates the need for an event handler in the code-behind of the <strong>MainPage</strong> class, and ensures that navigation is invoked from the view model class, where it can be easily tested.</p> <p>With the release of Visual Studio 2013 Blend behaviours are now supported in Windows Store apps. A Blend behaviour adds some behaviour to an element in your app, and has a method that’s invoked when the behaviour is attached to a <a href="http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.dependencyobject">DependencyObject</a>, and a method that’s invoked when it’s detached. An action contains only one method that is invoked when a certain condition is met, such an event being raised. The Behaviours SDK consists of the following actions and behaviours:</p> <blockquote> <p><strong>CallMethodAction</strong>: An action that calls a method on a specified object when invoked.</p> <p><strong>ChangePropertyAction</strong>: An action that will change a specified property to a specified value when invoked.</p> <p><strong>GoToStateAction</strong>: An action that will transition a <a href="http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.frameworkelement">FrameworkElement</a> to a specified <a href="http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.visualstate.aspx">VisualState</a> when executed.</p> <p><strong>InvokeCommandAction</strong>: Executes a specified <a href="http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.input.icommand">ICommand</a> when invoked.</p> <p><strong>NavigateToPageAction</strong>: An action that switches the current visual to the specified <a href="http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.controls.page">Page</a>.</p> <p><strong>ControlStoryboardAction</strong>: An action that will change the state of the specified <a href="http://msdn.microsoft.com/library/windows/apps/br210490">Storyboard</a> when executed.</p> <p><strong>PlaySoundAction</strong>: An action that will play a sound to completion.</p> <p><strong>DataTriggerBehaviour</strong>: A behaviour that performs actions when the bound data meets a specified condition.</p> <p><strong>EventTriggerBehaviour</strong>: A behaviour that listens for a specified event on its source and executes its actions when that event is fired.</p> <p><strong>IncrementalUpdateBehaviour</strong>: A behaviour that allows incremental updating of <a href="http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.controls.listbox.aspx">ListView</a> and <a href="http://msdn.microsoft.com/en-gb/library/windows/apps/windows.ui.xaml.controls.gridview">GridView</a> contents to support faster updating. By attaching this behaviour to elements in the <a href="http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.controls.itemscontrol.itemtemplate.aspx">ItemTemplate</a> used by these views, some of the updates can be deferred until there is render time available, resulting in a smoother experience.</p></blockquote> <p>You can create your own action by adding a class to your project that derives from <a href="http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.dependencyobject">DependencyObject</a> and implements the <strong>IAction</strong> interface. Similary you can create a behaviour by adding a class to your project that derives from <a href="http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.dependencyobject">DependencyObject</a> and implements the <strong>IBehavior</strong> interface.</p> <p>In this blog post I’ve replaced the attached behaviour that was previously used with a Blend behaviour that has the same effect.</p> <h3>Implementation</h3> <p>The first step is to add a reference to the Behaviours SDK to your project.</p> <p><a href="http://lh6.ggpht.com/-D9rD1EZiSBM/Ul6DrZD6pCI/AAAAAAAACi0/rVEvOgCxtrw/s1600-h/image%25255B11%25255D.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://lh5.ggpht.com/-6089j3GPUXY/Ul6Dr9nbIBI/AAAAAAAACi4/x0UgKGEW62s/image_thumb%25255B5%25255D.png?imgmax=800" width="244" height="169"></a></p><p>Then the Microsoft.Xaml.Interactivity and Microsoft.Xaml.Interactions.Core namespaces should be imported into the XAML of the page you want to use a Blend behaviour from.</p><div id="codeSnippetWrapper" style="overflow: auto; cursor: text; font-size: 8pt; border-top: silver 1px solid; font-family: 'Courier New', courier, monospace; border-right: silver 1px solid; border-bottom: silver 1px solid; padding-bottom: 4px; direction: ltr; text-align: left; padding-top: 4px; padding-left: 4px; margin: 20px 0px 10px; border-left: silver 1px solid; line-height: 12pt; padding-right: 4px; max-height: 200px; width: 97.5%; background-color: #f4f4f4"><div id="codeSnippet" style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; line-height: 12pt; padding-right: 0px; width: 100%; background-color: #f4f4f4"><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: white"><span style="color: #0000ff">&lt;</span><span style="color: #800000">prism:VisualStateAwarePage</span></pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: #f4f4f4">    ...</pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: white">    <span style="color: #ff0000">xmlns:interactivity</span><span style="color: #0000ff">="using:Microsoft.Xaml.Interactivity"</span></pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: #f4f4f4">    <span style="color: #ff0000">xmlns:core</span><span style="color: #0000ff">="using:Microsoft.Xaml.Interactions.Core"</span></pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: white">    ...<span style="color: #0000ff">&gt;</span></pre><!--CRLF--></div></div><p>Previously in the app, the <a href="http://msdn.microsoft.com/en-gb/library/windows/apps/windows.ui.xaml.controls.gridview">GridView</a> used an attached behaviour to execute a view model action when the <a href="http://msdn.microsoft.com/en-gb/library/windows/apps/windows.ui.xaml.controls.listviewbase.itemclick">ItemClick</a> event fires on the <a href="http://msdn.microsoft.com/en-gb/library/windows/apps/windows.ui.xaml.controls.gridview">GridView</a>. Here, a Blend behaviour and a Blend action is used to achieve the same effect.</p><div id="codeSnippetWrapper" style="overflow: auto; cursor: text; font-size: 8pt; border-top: silver 1px solid; font-family: 'Courier New', courier, monospace; border-right: silver 1px solid; border-bottom: silver 1px solid; padding-bottom: 4px; direction: ltr; text-align: left; padding-top: 4px; padding-left: 4px; margin: 20px 0px 10px; border-left: silver 1px solid; line-height: 12pt; padding-right: 4px; max-height: 200px; width: 97.5%; background-color: #f4f4f4"><div id="codeSnippet" style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; line-height: 12pt; padding-right: 0px; width: 100%; background-color: #f4f4f4"><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: white"><span style="color: #0000ff">&lt;</span><span style="color: #800000">GridView</span> <span style="color: #ff0000">Grid</span>.<span style="color: #ff0000">Row</span><span style="color: #0000ff">="1"</span></pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: #f4f4f4">          <span style="color: #ff0000">IsItemClickEnabled</span><span style="color: #0000ff">="True"</span></pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: white">          <span style="color: #ff0000">ItemsSource</span><span style="color: #0000ff">="{Binding Photos}"</span></pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: #f4f4f4">          <span style="color: #ff0000">Margin</span><span style="color: #0000ff">="140,0,0,0"</span></pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: white">          <span style="color: #ff0000">SelectionMode</span><span style="color: #0000ff">="None"</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: #f4f4f4">    <span style="color: #0000ff">&lt;</span><span style="color: #800000">interactivity:Interaction.Behaviors</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: white">        <span style="color: #0000ff">&lt;</span><span style="color: #800000">core:EventTriggerBehavior</span> <span style="color: #ff0000">EventName</span><span style="color: #0000ff">="ItemClick"</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: #f4f4f4">            <span style="color: #0000ff">&lt;</span><span style="color: #800000">core:InvokeCommandAction</span> <span style="color: #ff0000">Command</span><span style="color: #0000ff">="{Binding PhotoNavigationCommand}"</span></pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: white">                                      <span style="color: #ff0000">CommandParameter</span><span style="color: #0000ff">="{Binding Path=SelectedItem}"</span><span style="color: #0000ff">/&gt;</span></pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: #f4f4f4">        <span style="color: #0000ff">&lt;/</span><span style="color: #800000">core:EventTriggerBehavior</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: white">    <span style="color: #0000ff">&lt;/</span><span style="color: #800000">interactivity:Interaction.Behaviors</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: #f4f4f4">    ...</pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: white"><span style="color: #0000ff">&lt;/</span><span style="color: #800000">Grid</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--></div></div><p>An <strong>EventTriggerBehavior</strong> is used which handles the <a href="http://msdn.microsoft.com/en-gb/library/windows/apps/windows.ui.xaml.controls.listviewbase.itemclick">ItemClick</a> event. The <strong>InvokeCommandAction</strong> specifies the view model command that will be invoked when the event fires, and passes a parameter to the view model command. The overall effect is that when the <a href="http://msdn.microsoft.com/en-gb/library/windows/apps/windows.ui.xaml.controls.listviewbase.itemclick">ItemClick</a> event fires on the <a href="http://msdn.microsoft.com/en-gb/library/windows/apps/windows.ui.xaml.controls.gridview">GridView</a>, the <strong>PhotoNavigationCommand</strong> in the <strong>MainPageViewModel</strong> class is invoked, with the <strong>PhotoNavigationCommand</strong> receiving the <a href="http://msdn.microsoft.com/en-gb/library/windows/apps/windows.ui.xaml.controls.primitives.selector.selecteditem">SelectedItem</a> property of the <a href="http://msdn.microsoft.com/en-gb/library/windows/apps/windows.ui.xaml.controls.gridview">GridView</a> as a parameter.</p><div id="codeSnippetWrapper" style="overflow: auto; cursor: text; font-size: 8pt; border-top: silver 1px solid; font-family: 'Courier New', courier, monospace; border-right: silver 1px solid; border-bottom: silver 1px solid; padding-bottom: 4px; direction: ltr; text-align: left; padding-top: 4px; padding-left: 4px; margin: 20px 0px 10px; border-left: silver 1px solid; line-height: 12pt; padding-right: 4px; max-height: 200px; width: 97.5%; background-color: #f4f4f4"><div id="codeSnippet" style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; line-height: 12pt; padding-right: 0px; width: 100%; background-color: #f4f4f4"><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: white"><span style="color: #0000ff">public</span> DelegateCommand&lt;ItemClickEventArgs&gt; PhotoNavigationCommand { get; <span style="color: #0000ff">private</span> set; }</pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: #f4f4f4">&nbsp;</pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: white"><span style="color: #0000ff">public</span> MainPageViewModel(IRepository repository, INavigationService navigationService)</pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: #f4f4f4">{</pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: white">    _repository = repository;</pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: #f4f4f4">    _navigationService = navigationService;</pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: white">    PhotoNavigationCommand = <span style="color: #0000ff">new</span> DelegateCommand&lt;ItemClickEventArgs&gt;(NavigateToPhoto);</pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: #f4f4f4">}</pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: white">&nbsp;</pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: #f4f4f4"><span style="color: #0000ff">private</span> <span style="color: #0000ff">void</span> NavigateToPhoto(ItemClickEventArgs parameter)</pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: white">{</pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: #f4f4f4">    var photo = parameter.ClickedItem <span style="color: #0000ff">as</span> FileInformation;</pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: white">    <span style="color: #0000ff">if</span> (photo != <span style="color: #0000ff">null</span>)</pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: #f4f4f4">    {</pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: white">        _navigationService.Navigate(<span style="color: #006080">"Photo"</span>, photo.Path);</pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: #f4f4f4">    }</pre><!--CRLF--><pre style="border-top-style: none; overflow: visible; font-size: 8pt; border-left-style: none; font-family: 'Courier New', courier, monospace; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; line-height: 12pt; padding-right: 0px; width: 100%; background-color: white">}</pre><!--CRLF--></div></div><p>In the <strong>MainPageViewModel</strong> class the <strong>PhotoNavigationCommand</strong> is a generic <strong>DelegateCommand</strong> of type <a href="http://msdn.microsoft.com/en-gb/library/windows/apps/windows.ui.xaml.controls.itemclickeventargs">ItemClickEventArgs</a>. This is necessary so that the command receives the event data for the <a href="http://msdn.microsoft.com/en-gb/library/windows/apps/windows.ui.xaml.controls.listviewbase.itemclick">ItemClick</a> event. In the <strong>MainPageViewModel</strong> constructor the <strong>PhotoNavigationCommand</strong> is initialiased to a new <strong>DelegateCommand</strong> that will execute the <strong>NavigateToPhoto</strong> method. This method gets the photo that was clicked on and uses the <strong>NavigationService</strong> to navigate to the <strong>PhotoPage</strong> where the clicked on photo will be displayed.</p><h3>Summary</h3><p>In this blog post I’ve replaced the attached behaviour that was previously used to execute a view model action with a Blend behaviour that executes a view model command. The advantage of this approach is that you use what’s provided by the Blend SDK, rather than having to write your own attached behaviour, which may introduce errors, and associated unit tests.</p><p>The sample app can be downloaded <a href="http://sdrv.ms/16a5aQe">here</a>.</p>  