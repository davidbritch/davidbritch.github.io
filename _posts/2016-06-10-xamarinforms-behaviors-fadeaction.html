---
title: 'Xamarin.Forms Behaviors: FadeAction'
date: '2016-06-10T11:22:00.000+01:00'
author: David Britch
tags:
- behaviour
- C#
- Xamarin
modified_time: '2016-06-10T11:23:26.875+01:00'
blogger_id: tag:blogger.com,1999:blog-8265682915956744370.post-4541579178048084430
blogger_orig_url: https://dbritch.blogspot.com/2016/06/xamarinforms-behaviors-fadeaction.html
---

<p><a href="http://www.davidbritch.com/2016/05/xamarinforms-behaviors-new-actions.html">Previously</a>, I mentioned that I’d added a number of new actions to the <a href="http://www.davidbritch.com/2016/02/behaviours-library-for-xamarinforms_24.html">Behaviors Library for Xamarin.Forms</a>, to support animations. The library has the notion of behaviors and actions. A behavior is attached to a control and listens for something to happen, such as an event firing. When the “something” happens, it triggers one or more actions, such as invoking a method or command. Actions are invoked by behaviors and executed on a selected control.</p> <p>In this blog post, I’ll demonstrate using the <strong>EventHandlerBehavior</strong> and <strong>FadeAction</strong> classes to run a fade animation when an event occurs.</p> <p><strong>Fading a VisualElement when an Event Fires</strong></p> <p>The <strong>EventHandlerBehavior</strong> class listens for a specified event to occur, and executes one or more actions in response. It requires you to set an <strong>EventName</strong> property to the event that you want the behavior to listen to, and an <strong>Actions</strong> property to one or more actions that should be executed in response to the event firing. Note that the <strong>Actions</strong> property of the <strong>EventHandlerBehavior</strong> instance is set indirectly by creating the <strong>FadeAction</strong> instance as a child of the <strong>EventHandlerBehavior</strong> instance.</p> <p>The <strong>FadeAction</strong> class performs a fade animation when invoked, and allows the following <em>optional</em> properties to be set:</p> <ul> <li><strong>TargetObject</strong> – an <strong>object</strong> that is the <strong>VisualElement</strong> on which to run the animation. If this value is omitted the object the behavior is attached to will be set as the target on which to run the animation.  <li><strong>FinalOpacity</strong> – a <strong>double</strong> that specifies the value of the <strong>Opacity</strong> property to fade to. If this value is omitted the default value of 1 is used.  <li><strong>Duration</strong> – an <strong>int</strong> that represents the length of the animation in milliseconds. If this value is omitted the default value of 250ms is used.  <li><strong>EasingFunction</strong> – an <strong>EasingFunction</strong> that specifies any velocity changes in the animation. If this value is omitted the default value of the linear easing function is used.  <li><strong>Await</strong> – a <strong>boolean</strong> that represents whether the animation should be awaited, or whether it should be allowed to complete in the background. If this value is omitted the default value of <strong>false</strong> is used.</li></ul> <p>The following code example shows an example of using the <strong>EventHandlerBehavior</strong> and <strong>FadeAction</strong> classes to fade in an <strong>Image</strong> control when a <strong>Button</strong> is clicked:</p> <div id="scid:9D7513F9-C04C-4721-824A-2B34F0212519:4b0d8f98-2c23-41bc-a9eb-c4357f5ce201" class="wlWriterSmartContent" style="float: none; padding-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px"><pre style="overflow: hidden; height: 208px; width: 826px; background-color: white"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #0000ff">&lt;</span><span style="color: #800000">Image </span><span style="color: #ff0000">x:Name</span><span style="color: #0000ff">="image"</span><span style="color: #ff0000"> Source</span><span style="color: #0000ff">="monkey.png"</span><span style="color: #ff0000"> Opacity</span><span style="color: #0000ff">="0"</span><span style="color: #ff0000"> VerticalOptions</span><span style="color: #0000ff">="CenterAndExpand"</span><span style="color: #ff0000"> </span><span style="color: #0000ff">/&gt;</span><span style="color: #000000">
</span><span style="color: #0000ff">&lt;</span><span style="color: #800000">Button </span><span style="color: #ff0000">Text</span><span style="color: #0000ff">="Run Animation"</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
    </span><span style="color: #0000ff">&lt;</span><span style="color: #800000">Button.Behaviors</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
        </span><span style="color: #0000ff">&lt;</span><span style="color: #800000">behaviors:EventHandlerBehavior </span><span style="color: #ff0000">EventName</span><span style="color: #0000ff">="Clicked"</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
            </span><span style="color: #0000ff">&lt;</span><span style="color: #800000">behaviors:FadeAction </span><span style="color: #ff0000">TargetObject</span><span style="color: #0000ff">="</span><span style="color: #808000">{x:Reference image}</span><span style="color: #0000ff">"</span><span style="color: #ff0000"> 
                                  FinalOpacity</span><span style="color: #0000ff">="1.0"</span><span style="color: #ff0000"> 
                                  Duration</span><span style="color: #0000ff">="2000"</span><span style="color: #ff0000"> 
                                  Await</span><span style="color: #0000ff">="true"</span><span style="color: #ff0000"> </span><span style="color: #0000ff">/&gt;</span><span style="color: #000000">
        </span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">behaviors:EventHandlerBehavior</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
    </span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">Button.Behaviors</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
</span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">Button</span><span style="color: #0000ff">&gt;</span></div></pre><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>When the <strong>Button.Clicked</strong> event fires, the <strong>FadeAction</strong> fades in the <strong>Image</strong> instance over 2 seconds (2000 milliseconds), and the animation is awaited. This means that if there were subsequent animations defined, they would only execute after the fade animation has completed,</p>
<p>The advantage of using the <strong>FadeAction</strong> is that it’s possible to invoke animations through XAML, rather than having to use C#. In addition, when combined with behaviors, a fade animation can easily be invoked from XAML when a behavior occurs, such as an event firing, or a when a piece of data changes.</p>
<p>The sample application that this code comes from can be downloaded from <a href="https://github.com/davidbritch/behaviors">GitHub</a>.</p>
<h3>Summary</h3>
<p>The <strong>FadeAction</strong> class allows fade animations to be invoked through XAML when a behavior occurs, such as an event firing, or when a piece of data changes.</p>