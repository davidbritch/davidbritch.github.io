---
title: Range-based for loops in a C++/CX app
date: '2012-10-08T13:25:00.001+01:00'
author: David Britch
tags:
- C++/CX
- Windows 8
- WinRT
- Windows Store app
modified_time: '2012-10-08T13:26:26.664+01:00'
blogger_id: tag:blogger.com,1999:blog-8265682915956744370.post-698987645626436162
blogger_orig_url: https://dbritch.blogspot.com/2012/10/range-based-for-loops-in-ccx-app.html
---

<p>One of the new developments introduced in C++11 are range-based <strong>for</strong> loops. Range-based <strong>for</strong> loops are an extension of the <strong>for</strong> keyword, and provide an efficient way to write loops that iterate over a collection - STL containers, strings, and arrays are ready-made <strong>for</strong> range-based for loops. In addition, they have a more concise syntax than <strong>for</strong> loops and the <a href="http://msdn.microsoft.com/en-us/library/e5sk9w9k(v=vs.110).aspx">std::for_each</a> algorithm. </p> <p>Hereâ€™s a simple example that totals the integer values stored in an array.</p> <div style="border-bottom: silver 1px solid; text-align: left; border-left: silver 1px solid; padding-bottom: 4px; line-height: 12pt; background-color: #f4f4f4; margin: 20px 0px 10px; padding-left: 4px; width: 97.5%; padding-right: 4px; font-family: 'Courier New', courier, monospace; direction: ltr; max-height: 200px; font-size: 8pt; overflow: auto; border-top: silver 1px solid; cursor: text; border-right: silver 1px solid; padding-top: 4px" id="codeSnippetWrapper"> <div style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px" id="codeSnippet"><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: white; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"><span style="color: #0000ff">int</span> numbers[5] = { 1, 77, 98, 22, 355 };</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"><span style="color: #0000ff">int</span> total = 0;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: white; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px">&nbsp;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"><span style="color: #0000ff">for</span> (<span style="color: #0000ff">auto</span> number : numbers)</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: white; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px">{</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px">    total += number;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: white; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px">}</pre><!--CRLF--></div></div><br />In order to enable range-based <strong>for</strong> loops for your user-defined types, you must add the following support:<br /><ul><br /><li>A <strong>begin</strong> method that returns an iterator to the beginning of the structure.</li><br /><li>An <strong>end</strong> method that returns an iterator to the end of the structure.</li><br /><li>Support in the iterator for the <strong>operator*</strong>, <strong>operator!=</strong>, and <strong>operator++</strong> methods.</li></ul><br />For more information see <a href="http://msdn.microsoft.com/en-us/library/hh438471.aspx">Algorithms (Modern C++),</a> and the <a href="http://hilo.codeplex.com/">Hilo project</a>.  