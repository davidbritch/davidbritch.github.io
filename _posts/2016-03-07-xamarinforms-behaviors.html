---
layout: post
title: 'Xamarin.Forms Behaviors: EventHandlerBehavior and InvokeMethodAction'
date: '2016-03-07T16:28:00.001Z'
author: David Britch
tags:
- behaviour
- C#
- Xamarin
modified_time: '2016-03-07T16:28:54.179Z'
blogger_id: tag:blogger.com,1999:blog-8265682915956744370.post-3949096665028602223
blogger_orig_url: https://dbritch.blogspot.com/2016/03/xamarinforms-behaviors.html
---

<p><a href="http://www.davidbritch.com/2016/02/xamarinforms-behaviors.html">Previously</a>, I demonstrated using the <strong>EventHandlerBehavior</strong> and <strong>InvokeCommandAction</strong> classes to invoke one or more commands when an event fires. The <a href="http://www.davidbritch.com/2016/02/behaviours-library-for-xamarinforms_24.html">Behaviors Library for Xamarin.Forms</a> has the notion of behaviors and actions. A behavior is attached to a control and listens for something to happen, such as an event firing. When the “something” happens, it triggers one or more actions, such as invoking a method or command. Actions are invoked by behaviors and executed on a selected control.</p> <p>In this blog post, I’ll demonstrate using the <strong>EventHandlerBehavior</strong> and <strong>InvokeMethodAction</strong> classes to invoke one or more methods when an event fires.</p> <h3>Invoking a Method when an Event Fires</h3> <p>The <strong>EventHandlerBehavior</strong> class listens for a specified event to occur, and executes one or more actions in response. It requires you to set an <strong>EventName</strong> property to the event that you want the behavior to listen to, and an <strong>Actions</strong> property to one or more actions that should be executed in response to the event firing.</p> <p>The <strong>InvokeMethodAction</strong> class executes a specified method when invoked. It requires you to set a <strong>TargetObject</strong> property to an <strong>object</strong> that exposes the method of interest, and a <strong>MethodName</strong> property to the name of the method to be invoked. The <strong>InvokeMethodAction</strong> class allows you to call a method with zero parameters, or a method with two parameters.</p> <h2>Calling a Method without Parameters</h2> <p>The following code shows an example of using the <strong>EventHandlerBehavior</strong> and <strong>InvokeMethodAction</strong> classes to invoke a method with no parameters:</p> <div id="scid:9D7513F9-C04C-4721-824A-2B34F0212519:73d780df-0d0b-473f-be72-90a82879f874" class="wlWriterSmartContent" style="float: none; padding-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px"><pre style="overflow: hidden; height: 212px; width: 826px; background-color: white"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #0000ff">&lt;</span><span style="color: #800000">StackLayout.BindingContext</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
    </span><span style="color: #0000ff">&lt;</span><span style="color: #800000">local:InvokeMethodDemoPageViewModel </span><span style="color: #0000ff">/&gt;</span><span style="color: #000000">
</span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">StackLayout.BindingContext</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
...
</span><span style="color: #0000ff">&lt;</span><span style="color: #800000">Button </span><span style="color: #ff0000">Text</span><span style="color: #0000ff">="Invoke ViewModel Method"</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
    </span><span style="color: #0000ff">&lt;</span><span style="color: #800000">Button.Behaviors</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
        </span><span style="color: #0000ff">&lt;</span><span style="color: #800000">behaviors:EventHandlerBehavior </span><span style="color: #ff0000">EventName</span><span style="color: #0000ff">="Clicked"</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
            </span><span style="color: #0000ff">&lt;</span><span style="color: #800000">behaviors:InvokeMethodAction </span><span style="color: #ff0000">TargetObject</span><span style="color: #0000ff">="</span><span style="color: #808000">{Binding}</span><span style="color: #0000ff">"</span><span style="color: #ff0000"> MethodName</span><span style="color: #0000ff">="IncrementCounter"</span><span style="color: #ff0000"> </span><span style="color: #0000ff">/&gt;</span><span style="color: #000000">
        </span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">behaviors:EventHandlerBehavior</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
    </span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">Button.Behaviors</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
</span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">Button</span><span style="color: #0000ff">&gt;</span></div></pre><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>When the <strong>Button.Clicked</strong> event fires, the <strong>IncrementCounter</strong> method is executed. The <strong>TargetObject</strong> property value specifies that the <strong>BindingContext</strong> exposes the method of interest. Therefore, the <strong>InvokeMethodAction</strong> class will search the <strong>BindingContext</strong> of the attached control for the method, which in this case is the <strong>InvokeMethodDemoPageViewModel</strong> instance. Note that the <strong>Actions</strong> property of the <strong>EventHandlerBehavior</strong> is set indirectly by creating the <strong>InvokeMethodAction</strong> instance as a child of the <strong>EventHandlerBehavior</strong> instance.</p>
<h2>Calling Methods with Two Parameters</h2>
<p>The <strong>InvokeMethodAction</strong> class also supports calling methods with parameters. However, methods with parameters must conform to a signature with two parameters such as (<strong>object</strong> sender, <strong>object</strong> params).</p>
<p>The following code shows an example of using the <strong>EventHandlerBehavior</strong> and <strong>InvokeMethodAction</strong> classes to invoke a method with parameters:</p>
<div id="scid:9D7513F9-C04C-4721-824A-2B34F0212519:c7a85bef-5605-4d7e-adee-8cc08dc49390" class="wlWriterSmartContent" style="float: none; padding-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px"><pre style="overflow: hidden; height: 182px; width: 826px; background-color: white"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #0000ff">&lt;</span><span style="color: #800000">StackLayout </span><span style="color: #ff0000">BindingContext</span><span style="color: #0000ff">="</span><span style="color: #808000">{x:Reference page}</span><span style="color: #0000ff">"</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
    ...
    </span><span style="color: #0000ff">&lt;</span><span style="color: #800000">Button </span><span style="color: #ff0000">Text</span><span style="color: #0000ff">="Invoke Page Method"</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
        </span><span style="color: #0000ff">&lt;</span><span style="color: #800000">Button.Behaviors</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
            </span><span style="color: #0000ff">&lt;</span><span style="color: #800000">behaviors:EventHandlerBehavior </span><span style="color: #ff0000">EventName</span><span style="color: #0000ff">="Clicked"</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
                </span><span style="color: #0000ff">&lt;</span><span style="color: #800000">behaviors:InvokeMethodAction </span><span style="color: #ff0000">TargetObject</span><span style="color: #0000ff">="</span><span style="color: #808000">{Binding}</span><span style="color: #0000ff">"</span><span style="color: #ff0000"> MethodName</span><span style="color: #0000ff">="OnButtonClicked"</span><span style="color: #ff0000"> </span><span style="color: #0000ff">/&gt;</span><span style="color: #000000">
            </span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">behaviors:EventHandlerBehavior</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
        </span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">Button.Behaviors</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
    </span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">Button</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
</span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">StackLayout</span><span style="color: #0000ff">&gt;</span></div></pre><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>When the <strong>Button.Clicked</strong> event fires, the <strong>OnButtonClicked</strong> method is executed (which has a signature of <strong>object</strong> sender, <strong>EventArgs</strong> args). The <strong>TargetObject</strong> property value specifies that the <strong>BindingContext</strong> exposes the method of interest. Therefore, the <strong>InvokeMethodAction</strong> class will search the <strong>BindingContext</strong> of the attached control for the method, which in this case is the <strong>ContentPage</strong>. Note that the <strong>Actions</strong> property of the <strong>EventHandlerBehavior</strong> is set indirectly by creating the <strong>InvokeMethodAction</strong> instance as a child of the <strong>EventHandlerBehavior</strong> instance.</p>
<p>Generally, combining the <strong>EventHandlerBehavior</strong> and <strong>InvokeMethodAction</strong> classes offers no advantage over combining the <strong>EventHandlerBehavior</strong> and <strong>InvokeCommandAction</strong> classes. However, the <strong>InvokeCommandAction</strong> class can be useful when combined with other behaviors.</p>
<p>The sample application that this code comes from can be downloaded from <a href="https://github.com/davidbritch/behaviors">GitHub</a>.</p>
<h3>Summary</h3>
<p>The <strong>EventHandlerBehavior</strong> class listens for a specified event to occur, and executes one or more actions in response. The <strong>InvokeMethodAction</strong> class executes a specified method when invoked. Generally, combining the <strong>EventHandlerBehavior</strong> and <strong>InvokeCommandAction</strong> classes is preferred over combining the <strong>EventHandlerBehavior</strong> and <strong>InvokeMethodAction</strong> classes. However, the <strong>InvokeCommandAction</strong> class can be useful when combined with other behaviors.</p>