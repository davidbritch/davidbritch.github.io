---
title: 'Xamarin.Forms Behaviors: DataChangedBehavior and InvokeCommandAction'
date: '2016-03-21T11:15:00.000Z'
author: David Britch
tags:
- behaviour
- C#
- Xamarin
modified_time: '2016-03-21T11:16:09.266Z'
blogger_id: tag:blogger.com,1999:blog-8265682915956744370.post-7584930274628730294
blogger_orig_url: https://dbritch.blogspot.com/2016/03/xamarinforms-behaviors_21.html
---

<p><a href="http://www.davidbritch.com/2016/03/xamarinforms-behaviors_14.html">Previously</a>, I demonstrated using the <strong>EventHandlerBehavior</strong> and <strong>SetPropertyAction</strong> classes to set one or more properties when an event fires. The <a href="http://www.davidbritch.com/2016/02/behaviours-library-for-xamarinforms_24.html">Behaviors Library for Xamarin.Forms</a> has the notion of behaviors and actions. A behavior is attached to a control and listens for something to happen, such as an event firing. When the “something” happens, it triggers one or more actions, such as invoking a method or command. Actions are invoked by behaviors and executed on a selected control.</p> <p>In this blog post, I’ll demonstrate using the <strong>DataChangedBehavior</strong> and <strong>InvokeCommandAction</strong> classes to invoke one or more commands when data changes.</p> <h3>Invoking a Command when Data Changes</h3> <p>The <strong>DataChangedBehavior</strong> class listens for the bound data to meet a specified condition, and executes one or more actions in response. It requires you to set the following properties:</p> <ul> <li><strong>Binding</strong> – an <strong>object</strong> that represents the bound object that the behavior will listen to.  <li><strong>ComparisonCondition</strong> – a <strong>ComparisonCondition</strong> enumeration value that represents the comparison to be performed between the values of the <strong>Binding</strong> and <strong>Value</strong> properties. The enumeration values are: <strong>Equal</strong>, <strong>NotEqual</strong>, <strong>LessThan</strong>, <strong>LessThanOrEqual</strong>, <strong>GreaterThan</strong>, <strong>GreaterThanOrEqual</strong>.  <li><strong>Value</strong> – an <strong>object</strong> that represents the value to be compared with the value of the <strong>Binding</strong> property.  <li><strong>Actions</strong> – one or more actions that should be executed in response to the bound data changing. Note that this property is set indirectly.</li></ul> <p>The <strong>InvokeCommandAction</strong> class executes a specified <strong>ICommand</strong> when invoked. It requires you to set a <strong>Command</strong> property to an <strong>ICommand</strong> instance, and <strong>CommandParameter</strong> and <strong>Converter</strong> properties can be optionally set. The <strong>CommandParameter</strong> property should be set to an <strong>object</strong> instance, with the <strong>Converter</strong> property being set to an instance of a class that implements <strong>IValueConverter</strong>. The <strong>ICommand</strong> specified in the <strong>Command</strong> property will then be executed, with the <strong>CommandParameter</strong> and <strong>Converter</strong> values being used if specified.</p> <p>The following code shows an example of using the <strong>DataChangedBehavior</strong> to invoke a command:</p> <div id="scid:9D7513F9-C04C-4721-824A-2B34F0212519:ad550cf8-7440-411f-8146-76daab299eb7" class="wlWriterSmartContent" style="float: none; padding-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px"><pre style="overflow: hidden; height: 291px; width: 826px; background-color: white"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #0000ff">&lt;</span><span style="color: #800000">ContentPage.BindingContext</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
    </span><span style="color: #0000ff">&lt;</span><span style="color: #800000">local:InvokeCommandDemoPageViewModel </span><span style="color: #0000ff">/&gt;</span><span style="color: #000000">
</span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">ContentPage.BindingContext</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
...
</span><span style="color: #0000ff">&lt;</span><span style="color: #800000">Entry </span><span style="color: #ff0000">x:Name</span><span style="color: #0000ff">="entry"</span><span style="color: #ff0000"> Placeholder</span><span style="color: #0000ff">="Enter Xamarin here"</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
    </span><span style="color: #0000ff">&lt;</span><span style="color: #800000">Entry.Behaviors</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
        </span><span style="color: #0000ff">&lt;</span><span style="color: #800000">behaviors:DataChangedBehavior </span><span style="color: #ff0000">Binding</span><span style="color: #0000ff">="</span><span style="color: #808000">{Binding Path=Text, Source={x:Reference entry}}</span><span style="color: #0000ff">"</span><span style="color: #ff0000"> 
                                       ComparisonCondition</span><span style="color: #0000ff">="Equal"</span><span style="color: #ff0000"> 
                                       Value</span><span style="color: #0000ff">="Xamarin"</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
            </span><span style="color: #0000ff">&lt;</span><span style="color: #800000">behaviors:InvokeCommandAction </span><span style="color: #ff0000">Command</span><span style="color: #0000ff">="</span><span style="color: #808000">{Binding OutputMessageCommand}</span><span style="color: #0000ff">"</span><span style="color: #ff0000"> 
                                           CommandParameter</span><span style="color: #0000ff">="</span><span style="color: #808000">{Binding Path=Text, Source={x:Reference entry}}</span><span style="color: #0000ff">"</span><span style="color: #ff0000"> </span><span style="color: #0000ff">/&gt;</span><span style="color: #000000">
        </span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">behaviors:DataChangedBehavior</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
    </span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">Entry.Behaviors</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
</span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">Entry</span><span style="color: #0000ff">&gt;</span><span style="color: #000000">
</span><span style="color: #0000ff">&lt;</span><span style="color: #800000">Label </span><span style="color: #ff0000">Text</span><span style="color: #0000ff">="</span><span style="color: #808000">{Binding MessageText}</span><span style="color: #0000ff">"</span><span style="color: #ff0000"> </span><span style="color: #0000ff">/&gt;</span></div></pre><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>When the value of the <strong>Entry.Text</strong> property becomes equal to “Xamarin”, the <strong>OutputMessageCommand</strong> is executed. The <strong>InvokeCommandAction</strong> class expects to find the <strong>ICommand</strong> instance on the <strong>BindingContext</strong> of the attached object, and in this case the <strong>BindingContext</strong> has been set by a parent element to an instance of the <strong>InvokeCommandDemoPageViewModel</strong> class. The <strong>CommandParameter</strong> passes the value of the <strong>Entry.Text</strong> property to the <strong>Execute</strong> delegate of the <strong>Command</strong>. Note that the <strong>Actions</strong> property of the <strong>DataChangedBehavior</strong> is set indirectly by creating the <strong>InvokeCommandAction</strong> instance as a child of the <strong>DataChangedBehavior</strong> instance.</p>
<p>The advantage of using the <strong>DataChangedBehavior</strong> and <strong>InvokeCommandAction</strong> classes is that commands can be executed in response to data changing, removing boiler-plate code from code-behind files.</p>
<p>The sample application that this code comes from can be downloaded from <a href="https://github.com/davidbritch/behaviors">GitHub</a>.</p>
<h3>Summary</h3>
<p>The <strong>DataChangedBehavior</strong> class listens for the bound data to meet a specified condition, and executes one or more actions in response. The <strong>InvokeCommandAction</strong> class executes a specified <strong>ICommand</strong> when invoked. By using these two classes, commands can be executed in response to data changing, removing boiler-plate code from code-behind files.</p>